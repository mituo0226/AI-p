<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>パートナー診断</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/>
  <style>
    .question { display: none; }
    .question.active { display: block; }
  </style>
</head>
<body class="bg-gray-900 text-white p-6">
  <h1 class="text-2xl mb-6 text-center">あなたにぴったりのAIパートナーは？</h1>

  <!-- ステップ1: あなたの性別 -->
  <div class="question active" data-step="1">
    <p class="mb-4 font-semibold">あなたの性別は？</p>
    <div class="flex justify-center gap-4">
      <button onclick="next('gender','female')" class="px-4 py-2 bg-pink-500 rounded">女性</button>
      <button onclick="next('gender','male')"   class="px-4 py-2 bg-blue-500 rounded">男性</button>
    </div>
  </div>

  <!-- ステップ2: 希望するパートナーの性別 -->
  <div class="question" data-step="2">
    <p class="mb-4 font-semibold">希望するパートナーの性別は？</p>
    <div class="flex justify-center gap-4">
      <button onclick="next('partner','female')" class="px-4 py-2 bg-pink-500 rounded">女性</button>
      <button onclick="next('partner','male')"   class="px-4 py-2 bg-blue-500 rounded">男性</button>
    </div>
  </div>

  <!-- ステップ3: 希望する年齢層 -->
  <div class="question" data-step="3">
    <p class="mb-4 font-semibold">希望するパートナーの年齢層は？</p>
    <div class="flex justify-center gap-4">
      <button onclick="next('age','20s')"  class="px-4 py-2 bg-green-500 rounded">20代</button>
      <button onclick="next('age','30s')"  class="px-4 py-2 bg-green-500 rounded">30代</button>
      <button onclick="next('age','40up')" class="px-4 py-2 bg-green-500 rounded">40代以上</button>
    </div>
  </div>

  <!-- ステップ4: どんな関係性を求めるか -->
  <div class="question" data-step="4">
    <p class="mb-4 font-semibold">どんな関係性を求めますか？</p>
    <div class="flex justify-center gap-4">
      <button onclick="next('type','friend')"  class="px-4 py-2 bg-yellow-500 rounded">友人タイプ</button>
      <button onclick="next('type','advisor')" class="px-4 py-2 bg-yellow-500 rounded">アドバイザータイプ</button>
      <button onclick="next('type','lover')"   class="px-4 py-2 bg-yellow-500 rounded">恋人タイプ</button>
    </div>
  </div>

  <!-- ステップ5: あなたの名前 -->
  <div class="question" data-step="5">
    <p class="mb-4 font-semibold">あなたのお名前を教えてください<br><span class="text-sm">(ニックネーム可)</span></p>
    <input type="text" id="username" class="w-full p-2 rounded text-black mb-4" placeholder="例：ゆかり" />
    <button onclick="submitForm()" class="w-full px-4 py-2 bg-indigo-500 rounded">診断結果を見る</button>
  </div>

  <script>
    let step = 1;
    const answers = {};

    function showStep(n) {
      document.querySelectorAll('.question').forEach(el => {
        el.classList.toggle('active', Number(el.dataset.step) === n);
      });
    }

    function next(key, value) {
      answers[key] = value;
      step++;
      showStep(step);
    }

    function submitForm() {
      const name = document.getElementById('username').value.trim();
      if (!name) {
        alert('お名前を入力してください');
        return;
      }
      answers.name = name;
      const qs = new URLSearchParams(answers).toString();
      window.location.href = `matching.html?${qs}`;
    }
  </script>
</body>
</html>
