# チャットフローと意図の構造

## 🌟 ユーザー体験の基本フロー

1. **トップページ（index.html）**
   - ランダムでキャラクター紹介
   - 「パートナー診断を始める」ボタンで診断開始へ誘導

2. **質問ページ（questionnaire.html）**
   - ステップ形式で以下を質問：
     - ユーザーの性別
     - 相手の希望性別
     - 希望年齢層（10代〜60代以上）
     - 関係性のタイプ（恋人／友人／アドバイザー）
     - ニックネーム入力
   - 回答内容はURLパラメータとして `matching.html` に送信

3. **マッチング結果ページ（matching.html）**
   - パラメータに応じたキャラクターを自動選出（main + sub 4人）
   - キャラクターごとのプロフィール詳細ページへのリンクあり

4. **プロフィール一覧ページ（prof.html）**
   - 全キャラクターをカード表示
   - 職業・性格・関係性タイプなどを表示

5. **今後予定のチャット機能（chat.html）**
   - 初回は5通まで無料（キャラとのやりとり）
   - 以降は1通100円相当のポイント制を導入予定
   - キャラによって口調・話題・反応が異なる（chatStyle対応）

---

## 📌 診断に使用されるパラメータ

- `gender`：ユーザー性別（male/female）
- `partner`：希望相手性別
- `age`：希望年齢層（例："30代後半"）
- `type`：関係性タイプ（lover / friend / advisor）
- `name`：ニックネーム（URLに渡され表示に使用）

---

## 🛠 マッチングロジック備考

- `characters.json` 内の `gender`, `age`, `age_label`, `type` を使ってマッチ
- 条件に合わない場合は fallback で性別のみ一致から抽出
- 表示後に `profile` をクリックで個別詳細へ

---

## 🧠 今後のチャット改善アイデア

- 初期セリフ5通のシナリオ構成（`characters.json`とは別にchatScript.jsonなど作成）
- 感情表現（emote）やトークスタイル（chatStyle）を拡張
- 特定の質問に反応するキャラ別キーワード設定

---
作成日：2025年8月
作成者：ChatGPT（AIチャット設計支援用）